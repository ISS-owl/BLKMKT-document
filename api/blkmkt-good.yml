swagger: '2.0'
info:
  description: 这是一篇关于商品的API文档
  version: 1.1.0
  title: 商品API文档
  termsOfService: 'http://swagger.io/terms/'
  contact:
    name: ShZh7
    url: 'https://github.com/Sh-Zh-7'
    email: zhihaoshen7@qq.com
  license:
    name: GPL-v3.0
    url: 'https://www.gnu.org/licenses/gpl-3.0.html'
host: 'localhost:7000'
basePath: /
tags:
  - name: 商品
    description: 所有关于商品的内容
  - name: 商品评论
    description: 所有关于商品评论的内容
  - name: 商品评论回复
    description: 所有关于商品评论回复的内容
paths:
  /good/good/:
    post:
      tags:
        - 商品
      summary: 保存信息
      description: 保存信息
      operationId: saveUsingPOST_2
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: good
          description: good entity
          required: true
          schema:
            $ref: '#/definitions/GoodEntity'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
    put:
      tags:
        - 商品
      summary: 更新信息
      description: 更新信息
      operationId: updateUsingPUT_2
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: good
          description: good entity
          required: true
          schema:
            $ref: '#/definitions/GoodEntity'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
    delete:
      tags:
        - 商品
      summary: 删除
      description: 删除信息
      operationId: deleteUsingDELETE_2
      produces:
        - '*/*'
      parameters:
        - in: body
          name: ids
          description: id array
          required: true
          schema:
            type: array
            items:
              type: integer
              format: int32
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
  /good/good/list:
    get:
      tags:
        - 商品
      summary: 所有信息
      description: 根据分页参数（可缺省）获取信息
      operationId: listUsingGET_2
      produces:
        - '*/*'
      parameters:
        - name: pageNo
          in: query
          description: Number of pages
          required: false
          type: integer
          format: int64
        - name: pageSize
          in: query
          description: Size of pages
          required: false
          type: integer
          format: int64
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ResponseWithData«PageUtils«GoodEntity»»'
  '/good/good/{id}':
    get:
      tags:
        - 商品
      summary: 信息
      description: 获取指定id的信息
      operationId: infoUsingGET_2
      produces:
        - '*/*'
      parameters:
        - name: id
          in: path
          description: id
          required: true
          type: integer
          format: int32
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ResponseWithData«GoodEntity»'
  /good/good_comment/:
    post:
      tags:
        - 商品评论
      summary: 保存信息
      description: 保存信息
      operationId: saveUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: goodComment
          description: goodComment entity
          required: true
          schema:
            $ref: '#/definitions/GoodCommentEntity'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
    put:
      tags:
        - 商品评论
      summary: 更新信息
      description: 更新信息
      operationId: updateUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: goodComment
          description: goodComment entity
          required: true
          schema:
            $ref: '#/definitions/GoodCommentEntity'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
    delete:
      tags:
        - 商品评论
      summary: 删除
      description: 删除信息
      operationId: deleteUsingDELETE
      produces:
        - '*/*'
      parameters:
        - in: body
          name: ids
          description: id array
          required: true
          schema:
            type: array
            items:
              type: integer
              format: int32
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
  /good/good_comment/list:
    get:
      tags:
        - 商品评论
      summary: 所有信息
      description: 根据分页参数（可缺省）获取信息
      operationId: listUsingGET
      produces:
        - '*/*'
      parameters:
        - name: pageNo
          in: query
          description: Number of pages
          required: false
          type: integer
          format: int64
        - name: pageSize
          in: query
          description: Size of pages
          required: false
          type: integer
          format: int64
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ResponseWithData«PageUtils«GoodCommentEntity»»'
  '/good/good_comment/{id}':
    get:
      tags:
        - 商品评论
      summary: 信息
      description: 获取指定id的信息
      operationId: infoUsingGET
      produces:
        - '*/*'
      parameters:
        - name: id
          in: path
          description: id
          required: true
          type: integer
          format: int32
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ResponseWithData«GoodCommentEntity»'
  /good/good_comment_replay/:
    post:
      tags:
        - 商品评论回复
      summary: 保存信息
      description: 保存信息
      operationId: saveUsingPOST_1
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: goodCommentReplay
          description: goodCommentReplay entity
          required: true
          schema:
            $ref: '#/definitions/GoodCommentReplayEntity'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
    put:
      tags:
        - 商品评论回复
      summary: 更新信息
      description: 更新信息
      operationId: updateUsingPUT_1
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: goodCommentReplay
          description: goodCommentReplay entity
          required: true
          schema:
            $ref: '#/definitions/GoodCommentReplayEntity'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
    delete:
      tags:
        - 商品评论回复
      summary: 删除
      description: 删除信息
      operationId: deleteUsingDELETE_1
      produces:
        - '*/*'
      parameters:
        - in: body
          name: ids
          description: id array
          required: true
          schema:
            type: array
            items:
              type: integer
              format: int64
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Response'
  /good/good_comment_replay/list:
    get:
      tags:
        - 商品评论回复
      summary: 所有信息
      description: 根据分页参数（可缺省）获取信息
      operationId: listUsingGET_1
      produces:
        - '*/*'
      parameters:
        - name: pageNo
          in: query
          description: Number of pages
          required: false
          type: integer
          format: int64
        - name: pageSize
          in: query
          description: Size of pages
          required: false
          type: integer
          format: int64
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ResponseWithData«PageUtils«GoodCommentReplayEntity»»'
  '/good/good_comment_replay/{id}':
    get:
      tags:
        - 商品评论回复
      summary: 信息
      description: 获取指定id的信息
      operationId: infoUsingGET_1
      produces:
        - '*/*'
      parameters:
        - name: id
          in: path
          description: id
          required: true
          type: integer
          format: int64
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ResponseWithData«GoodCommentReplayEntity»'
  /good/good/owner_all_goods:
    get:
      tags:
        - 用户及其商品
      summary: 获取用户所有的商品
      description: 商品包括上架和未上架的
      operationId: getOwnerAllGoodsUsingGET
      produces:
        - '*/*'
      parameters:
        - name: ownerId
          in: query
          description: 用户id
          required: true
          type: integer
          format: int32
          x-example: 1
      responses:
        '200':
          description: OK
          schema:
            example:
              msg: success
              code: 200
              data:
                - id: 6
                  ownerId: 1
                  price: 300
                  gtype: 0
                  status: 1
                  category: 电子产品
                  totalNum: 1
                  currentNum: 0
                  likeNum: 2
                  goodImgUrl: baidu.com
                  createTime: '2020-12-12T14:59:57.000+0000'
                  updateTime: '2020-12-12T14:59:57.000+0000'
                  title: 华为手机
                  subtitle: 出95成新华为手机
                  description: 300出9成新华为手机

  /good/good/owner_not_up_goods:
    get:
      tags:
        - 用户及其商品
      summary: 获取用户所有未上架的商品
      description: 不包括上架的
      operationId: getOwnerNotUpGoodsUsingGET
      produces:
        - '*/*'
      parameters:
        - name: ownerId
          in: query
          description: 用户id
          required: true
          type: integer
          format: int32
          x-example: 1
      responses:
        '200':
          description: OK
          schema:
            example:
              msg: success
              code: 200
              data:
                - id: 6
                  ownerId: 1
                  price: 300
                  gtype: 0
                  status: 0
                  category: 电子产品
                  totalNum: 1
                  currentNum: 0
                  likeNum: 2
                  goodImgUrl: baidu.com
                  createTime: '2020-12-12T14:59:57.000+0000'
                  updateTime: '2020-12-12T14:59:57.000+0000'
                  title: 华为手机
                  subtitle: 出95成新华为手机
                  description: 300出9成新华为手机
              
  /good/good/owner_up_goods:
    get:
      tags:
        - 用户及其商品
      summary: 获取用户所有上架的商品
      description: 不包括未上架的
      operationId: getOwnerUpGoodsUsingGET
      produces:
        - '*/*'
      parameters:
        - name: ownerId
          in: query
          description: 用户id
          required: true
          type: integer
          format: int32
          x-example: 1
      responses:
        '200':
          description: OK
          schema:
            example:
              msg: success
              code: 200
              data:
                - id: 6
                  ownerId: 1
                  price: 300
                  gtype: 0
                  status: 0
                  category: 电子产品
                  totalNum: 1
                  currentNum: 0
                  likeNum: 2
                  goodImgUrl: baidu.com
                  createTime: '2020-12-12T14:59:57.000+0000'
                  updateTime: '2020-12-12T14:59:57.000+0000'
                  title: 华为手机
                  subtitle: 出95成新华为手机
                  description: 300出9成新华为手机
  /good/good/up:
    post:
      tags:
        - 商品上架
      summary: 创建商品并上架
      description: 直接创建商品实体并上架
      operationId: upGoodUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: good
          description: 商品信息
          required: true
          schema:
            example:
              title: 代课
              subtitle: 早八青楼520代课
              gtype: 1
              category: 课程资料
              ownerId: 1
              price: 5
              totalNum: 1
              currentNum: 1
              goodImgUrl: baidu.com
              description: 不会点名，签到就可以走
      responses:
        '200':
          description: OK
          schema:
            example:
              code: 200
              msg: "success"
    put:
      tags:
        - 商品上架
      summary: 更新上架商品
      description: 更新上架商品同时更新数据库（必须携带id）
      operationId: updateGoodUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: good
          description: 商品信息
          required: true
          schema:
            example:
              id: 6
              title: 代课
              subtitle: 早八青楼520代课
              gtype: 1
              category: 课程资料
              ownerId: 1
              price: 5
              totalNum: 1
              currentNum: 1
              goodImgUrl: baidu.com
              description: 不会点名，签到就可以走
      responses:
        '200':
          description: OK
          schema:
            example:
              code: 200
              msg: "success"
    delete:
      tags:
        - 商品上架
      summary: 商品下架
      description: 根据id直接删除上架商品
      operationId: deleteGoodUsingDELETE
      produces:
        - '*/*'
      parameters:
        - in: body
          name: ids
          description: 商品id
          required: true
          schema:
            type: array
            items:
              type: integer
              format: int32
      responses:
        '200':
          description: OK
          schema:
            example:
              code: 200
              msg: "success"
  '/good/good/up/{id}':
    get:
      tags:
        - 商品上架
      summary: 商品上架
      description: 根据给定id上架已有的，未上架的商品
      operationId: upGoodUsingGET
      produces:
        - '*/*'
      parameters:
        - name: id
          in: path
          description: 未上架的商品id
          required: true
          type: integer
          format: int32
          x-example: 1
      responses:
        '200':
          description: OK
          schema:
            example:
              code: 200
              msg: "success"
  /search/good:
    get:
      tags:
        - 商品检索
      summary: 搜索引擎，检索商品用
      description: 通过检索，过滤，排序，分页得到商品信息
      operationId: searchGET
      produces:
        - '*/*'
      parameters:
        - name: keyword
          in: query
          description: 关键字（查询商品title）
          type: string
          x-example: "算法导论"
        - name: priceRange
          in: query
          description: 价格区间【\_1表示小于等于1，3_表示大于等于3，1\_3表示大于等于1小于等于3】
          type: string
          x-example: "150_300"
        - name: gtype
          in: query
          description: 出货还是收货【0-出货，1收货】
          type: integer
          format: int32
          x-example: 0
        - name: category
          in: query
          description: 种类【书籍PDF，课程资料，电子产品，生活用品，其它信息】
          type: string
          x-example: "电子产品"
        - name: hasStock
          in: query
          description: 是否有货【0-无，1-有】
          type: integer
          format: int32
          x-example: "1"
        - name: sort
          in: query
          description: 排序字段【[price/likeNum/createTime/updateTime]_[asc/desc]】
          type: string
          x-example: "price_asc"
        - name: pageNum
          in: query
          description: 当前页码
          type: integer
          format: int32
          x-example: 1
        - name: pageSize
          in: query
          description: 当前页大小
          type: integer
          format: int32
          x-example: 3
      responses:
        '200':
          description: OK
          schema:
            example:
              msg: success
              data:
                goodModelList:
                  - id: 1
                    ownerId: 1
                    price: 200
                    gtype: 0
                    category: 电子产品
                    hasStock: 1
                    likeNum: 0
                    goodImgUrl: baidu.com
                    createTime: '2020-12-12T12:32:08.368+0000'
                    updateTime: '2020-12-12T12:32:08.368+0000'
                    title: 华为手机
                    subtitle: 出9成新华为手机
                  - id: 2
                    ownerId: 2
                    price: 300
                    gtype: 1
                    category: 书籍PDF
                    hasStock: 1
                    likeNum: 0
                    goodImgUrl: baidu.com
                    createTime: '2020-12-12T12:40:00.794+0000'
                    updateTime: '2020-12-12T12:40:00.794+0000'
                    title: 收算法导论
                    subtitle: 应付算法期末开卷用
                  - id: 5
                    ownerId: 2
                    price: 50
                    gtype: 0
                    category: 生活用品
                    hasStock: 1
                    likeNum: 0
                    goodImgUrl: baidu.com
                    createTime: '2020-12-12T12:44:27.982+0000'
                    updateTime: '2020-12-12T12:44:27.982+0000'
                    title: 出篮球
                    subtitle: 50r出一个全新篮球
                total: 3
                pageNum: 1
                totalPages: 1
              code: 200
  '/good/good/like/{id}':
    put:
      tags:
        - 商品上架
      summary: 点赞上架商品
      description: 给上架的商品点赞
      operationId: likeGoodUsingPUT
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: id
          in: path
          description: 已上架的商品id
          required: true
          type: integer
          format: int32
          x-example: 1
      responses:
        '200':
          description: OK
          schema:
            example:
              code: 200
              msg: "success"
definitions:
  GoodCommentEntity:
    type: object
    properties:
      content:
        type: string
        description: 内容
      contentType:
        type: integer
        format: int32
        example: 1
        description: '评论类型[0 - 对商品的直接评论，1 - 对评论的回复]'
      createTime:
        type: string
        format: date-time
        description: 创建时间
      goodId:
        type: integer
        format: int32
        example: 2
        description: 货物id
      id:
        type: integer
        format: int32
        example: 1
        description: id
      userId:
        type: integer
        format: int32
        example: 3
        description: 用户id
    title: GoodCommentEntity
  GoodCommentReplayEntity:
    type: object
    properties:
      commentId:
        type: integer
        format: int64
        example: 2
        description: 评论id
      id:
        type: integer
        format: int64
        example: 1
        description: id
      replyId:
        type: integer
        format: int64
        example: 3
        description: 回复id
    title: GoodCommentReplayEntity
  GoodEntity:
    type: object
    properties:
      category:
        type: string
        description: 分类
      createTime:
        type: string
        format: date-time
        description: 创建时间
      currentNum:
        type: integer
        format: int32
        description: 当前数量
      description:
        type: string
        description: 描述
      goodImgUrl:
        type: string
        description: 商品图片的url
      gtype:
        type: integer
        format: int32
        description: '出货收货[0 - 出货, 1 - 收货]'
      id:
        type: integer
        format: int32
        description: 货物id
      likeNum:
        type: integer
        format: int32
        description: 点赞数
      ownerId:
        type: integer
        format: int32
        description: 卖家id
      price:
        type: integer
        format: int32
        description: 价格
      status:
        type: integer
        format: int32
        description: '是否上架[0 - 上架, 1 - 未上架]'
      subtitle:
        type: string
        description: 副标题
      title:
        type: string
        description: 标题
      totalNum:
        type: integer
        format: int32
        description: 总数
      updateTime:
        type: string
        format: date-time
        description: 更新时间
    title: GoodEntity
  PageUtils«GoodCommentEntity»:
    type: object
    properties:
      currPage:
        type: integer
        format: int32
        example: 1
        description: 当前页数
      list:
        type: array
        description: 集合
        items:
          $ref: '#/definitions/GoodCommentEntity'
      pageSize:
        type: integer
        format: int32
        example: 10
        description: 每页记录数
      totalCount:
        type: integer
        format: int32
        example: 1
        description: 总记录数
      totalPage:
        type: integer
        format: int32
        example: 1
        description: 总页数
    title: PageUtils«GoodCommentEntity»
  PageUtils«GoodCommentReplayEntity»:
    type: object
    properties:
      currPage:
        type: integer
        format: int32
        example: 1
        description: 当前页数
      list:
        type: array
        description: 集合
        items:
          $ref: '#/definitions/GoodCommentReplayEntity'
      pageSize:
        type: integer
        format: int32
        example: 10
        description: 每页记录数
      totalCount:
        type: integer
        format: int32
        example: 1
        description: 总记录数
      totalPage:
        type: integer
        format: int32
        example: 1
        description: 总页数
    title: PageUtils«GoodCommentReplayEntity»
  PageUtils«GoodEntity»:
    type: object
    properties:
      currPage:
        type: integer
        format: int32
        example: 1
        description: 当前页数
      list:
        type: array
        description: 集合
        items:
          $ref: '#/definitions/GoodEntity'
      pageSize:
        type: integer
        format: int32
        example: 10
        description: 每页记录数
      totalCount:
        type: integer
        format: int32
        example: 1
        description: 总记录数
      totalPage:
        type: integer
        format: int32
        example: 1
        description: 总页数
    title: PageUtils«GoodEntity»
  Response:
    type: object
    properties:
      code:
        type: integer
        format: int32
        example: 200
      msg:
        type: string
        example: success
    title: Response
  ResponseWithData«GoodCommentEntity»:
    type: object
    properties:
      code:
        type: integer
        format: int32
        example: 200
      data:
        $ref: '#/definitions/GoodCommentEntity'
      msg:
        type: string
        example: success
    title: ResponseWithData«GoodCommentEntity»
  ResponseWithData«GoodCommentReplayEntity»:
    type: object
    properties:
      code:
        type: integer
        format: int32
        example: 200
      data:
        $ref: '#/definitions/GoodCommentReplayEntity'
      msg:
        type: string
        example: success
    title: ResponseWithData«GoodCommentReplayEntity»
  ResponseWithData«GoodEntity»:
    type: object
    properties:
      code:
        type: integer
        format: int32
        example: 200
      data:
        $ref: '#/definitions/GoodEntity'
      msg:
        type: string
        example: success
    title: ResponseWithData«GoodEntity»
  ResponseWithData«PageUtils«GoodCommentEntity»»:
    type: object
    properties:
      code:
        type: integer
        format: int32
        example: 200
      data:
        $ref: '#/definitions/PageUtils«GoodCommentEntity»'
      msg:
        type: string
        example: success
    title: ResponseWithData«PageUtils«GoodCommentEntity»»
  ResponseWithData«PageUtils«GoodCommentReplayEntity»»:
    type: object
    properties:
      code:
        type: integer
        format: int32
        example: 200
      data:
        $ref: '#/definitions/PageUtils«GoodCommentReplayEntity»'
      msg:
        type: string
        example: success
    title: ResponseWithData«PageUtils«GoodCommentReplayEntity»»
  ResponseWithData«PageUtils«GoodEntity»»:
    type: object
    properties:
      code:
        type: integer
        format: int32
        example: 200
      data:
        $ref: '#/definitions/PageUtils«GoodEntity»'
      msg:
        type: string
        example: success
    title: ResponseWithData«PageUtils«GoodEntity»»